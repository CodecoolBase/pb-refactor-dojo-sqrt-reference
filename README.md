## How to conduct a refactor workshop?

Goal: the goal of the workshop is to familiarize students with the process of clean code refactoring through "forcing" them to participate.
Setting: students are sitting in a half circle around a TV or projector screen (it is advisable to ask them to leave their desks so they can focus on the group task). The facilitator sits in front of them next to the TV and have a laptop which screen is displayed on the TV. The facilitator only codes what the students are saying to him/her.

First, the facilitator asks the students, what they know about refactoring, and makes it clear that there are other types of refactoring besides clean code refactoring (e.g. performance refactoring) the point is to improve one of the **non-functional** properties of the code (non-functional property is one which is not connected to any feature, e.g. performance, clean code, how is it documented, security etc.).

Second, the facilitator asks the students to do the code comprehension part, ask them one by one to interpret one row at a time. It's important to make it sure that students know that they can answer wrongly ("You can say anything, even wrong things!"), so the facilitator creates a **safe environment** for learning. If the student doesn't know the answer, others can help of course. The facilitator should only tell what the given row does when nobody knows that.

Third, the facilitator asks the students to refactor the code to make it more readable and maintanable (clean code refactoring) but don't change the program output. They go student by student again, and every time one student say one tiny modification (e.g. "We should name the variables properly, therefore I would rename X to Y."). The facilitator ensures that the modification ideas are **properly ordered** (e.g. they don't do a renaming and a function outsourcing and then a renaming again but do all the variable renamings after each other). In such a case s/he asks to do something else ("It would be a better idea to continue the variable renaming first, don't you think?"). However, it is also important to let students fail, so the facilitator task is to find the balance between intervening and not intervening. The facilitator also ensures that after every modification the **code is runnable** and s/he also tests the code by running it (and makes it clear to the students that it's **very** important to do that in order to not lose focus and found errors in an early stage.)
They do the refactoring until the state in the *reference-solution* branch is reached (if they ask whether further simplification is necessary, tell them, that in theory it could be one function, but it's more maintanable if it's separated into two; if they ask about writing the whole thing in one line - which can be almost done btw. - then tell them that overusing list comprehensions and other oneliners in strictly against the clean code rules as it breaks readability).